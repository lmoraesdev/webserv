<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <title>Webserv</title>
    <link
      rel="icon"
      href="https://cdn.icon-icons.com/icons2/2620/PNG/512/among_us_player_red_icon_156942.png"
    />
  </head>

  <body>
    <div class="card">
      <h1 class="card-title">Excluir arquivo sem trava</h1>
      <li><a href="./DELETE.html">Voltar</a></li>

      <form id="form" class="w-50 mx-500">
        <div class="form-group">
          <label for="file-path">Nome do arquivo:</label>
          <input type="text" id="file-path" name="file-path" required />
        </div>

        <div class="button-container">
          <button class="btn" type="submit" onclick="deleteFile()">
            Deletar arquivo
          </button>
        </div>
      </form>
    </div>

    <script>
      function deleteFile() {
        var filePath = document.getElementById('file-path').value;

        fetch(filePath, {
          method: 'DELETE',
        })
          .then((response) => {
            if (response.ok) {
              alert('Arquivo deletado com sucesso!');
            } else {
              alert('Falha ao deletar o arquivo.');
            }
          })
          .catch((error) => {
            console.error('Erro:', error);
          });
      }
    </script>

    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/tsparticles@2.3.4/tsparticles.bundle.min.js"
    ></script>
    <script type="text/javascript" src="../background.js"></script>
  </body>
</html>
